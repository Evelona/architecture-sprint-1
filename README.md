# Sprint 1: Микрофронтенды и Микросервисы

## Описание задания

В рамках данного спринта я работала над разбиением монолитного Frontend-приложения на микрофронтенды (МФЕ). Основной задачей было выделить отдельные функциональные части приложения в независимые микрофронтенды, учитывая возможность масштабирования команды

---

## Решение

### Уровень 1
Я чуть-чуть докрутила исходные данные для задания: Буду исходить из того, что я участвую в команде небольшого стартапа, и мы заранее пытаемся заложить, что команда будет расти и в дальнейшем поделится на команды по конкретным фичам. И для быстрого роста продукта - для меня будет важна скорость выкатки новых фич

Моими основными требованиями для реализации будет независимость циклов релизов команд друг от друга, для того, чтобы обеспечить быструю доставку новых фич до пользователей.

При выборе метода реализации МФЕ, я выбрала использовать Webpack Module Federation - я опиралась на данные выше, и на то, что для меня не слишком важна возможность использование различных фреймворков. Меньше стек - проще поддержка ПО, особенно для стартапа. Остальные показатели показались мне не особо влияющими на выбор.

---

### Уровень 2

Я разбила компонент `Main` на два микрофронтенда:
- **Avatar.js** — отображение профиля.
- **CardList.js** — отображение списка мест.

Общение между микрофронтендами реализовано через API. Единственное пересечение — проверка, поставил ли пользователь лайк на конкретное место.

Для улучшения организации проекта:
1. Создана папка `/shared` для хранения общих компонентов и стилей.
2. Рассмотрены варианты изоляции стилей для предотвращения конфликтов при увеличении количества разработчиков. Например, использование CSS-модулей.

---

## Структура проекта

- **Структура:**
  ```plaintext
    /auth-mfe
      /src
        /components
          Register.js            // Компонент регистрации пользователя
          Login.js               // Компонент входа пользователя
          /popups
            InfoTooltip.js       // Feedback-окно при регистрации или ошибке
        /styles
          auth-form.css          // Стили для формы авторизации
          login.css              // Стили для формы входа
        /utils
          auth.js                // Утилиты для аутентификации
        index.js                 // Точка входа микрофронтенда
        index.css                // Точка входа стилей
      package.json               // Зависимости и скрипты
      webpack.config.js          // Конфигурация Webpack

    /profile-mfe
      /src
        /components
          Avatar.js              // Компонент профиля (на главной)
          /popups
            EditAvatarPopup.js   // Компонент формы редактирования картинки профиля
            EditProfilePopup.js  // Компонент формы редактирования информации профиля
        /styles
            profile.css          // Файл стилей для отображения профиля
        /utils
            api.js               // Утилиты для работы с профилем getUserInfo, setUserInfo, setUserAvatar
        index.js                 // Точка входа микрофронтенда
        index.css                // Точка входа стилей
      package.json               // Зависимости и скрипты микрофронтенда
      webpack.config.js          // Описание микрофронта для хоста, с именем и точкой входа

    /image-manager-mfe
      /src
        /components
          Card.js                // Компонент (одного) места
          CardList.js            // Компонент списка мест
          /popups
            ImagePopup.js        // Всплывающее окно Места (при клике)
            AddPlacePopup.js     // Компонент формы добавления нового места (карты)
        /styles
          card.css               // Файл стилей для карточки места
          places.css             // Файл стилей для списка мест
        /utils
          api.js                 // Утилиты для работы с картинками getCardList, addCard, removeCard,
                                 // и changeLikeCardStatus
        index.js                 // Точка входа микрофронтенда
        index.css                // Точка входа стилей
      package.json               // Зависимости и скрипты микрофронтенда
      webpack.config.js          // Описание микрофронта для хоста, с именем и точкой входа

    /host
      /src
        /components
          ProtectedRoute.js      // Компонент роута проверяющего авторизацию
          Header.js              // Компонент верхнего меню
          Footer.js              // Компонент нижнего бара
        /styles
          content.css            // Файл стилей для контента на странице
          footer.css             // Файл стилей для футера
          header.css             // Файл стилей для верхнего меню
          page.css               // Файл стилей для страницы
        index.js                 // Точка сбора всех мфе тут
        index.css                // Точка входа стилей
      package.json               // Зависимости и скрипты хоста
      webpack.config.js          // Описание хоста и тех мфе, которых он импортирует + инструкция
    /shared
      /components
        PopupWithForm.js         // Компонент-обертка формы
      /styles
        popup.css                // Файл стилей для формы-обертки
      /vendor                    // шрифты и базовые стили
        /fonts
        font.css
        normalize.css

## Задание 2
ссылка на draw.io - https://drive.google.com/file/d/1eQjrUOfpIk_6lyXMzbQJGs7aknC2p2_q/view?usp=sharing